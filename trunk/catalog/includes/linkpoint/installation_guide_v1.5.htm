<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<style type="text/css">
<!--
.style1 {color: #FF0000}
.style4 {
	font-size: 18px;
	font-weight: bold;
}
.style7 {
	font-size: 14px;
	color: #FF0000;
}
.style8 {font-size: 18px}
.style9 {color: #CC0000}
-->
</style>
</head>

<body>
<h1 align="center">  Linkpoint/Cardservice<br>
Installation guide <br>
  <span class="style4">This documentation is copyright 2004 <a href="http://www.hyperactivehosting.com">Hyperactive 
  Inc.</a> all rights reserved. This document must be included in ANY version 
  of OSCommerce it is distributed in, this includes OSC-MAX and CRE Loaded6. It 
  may not be copied or modified without the express written consent of Hyperactive 
  Inc. It must also be included with any future additions or ammendments to this 
  module that you may upload or contribute to.</span></h1>
<hr>
<p align="center"><font color="#CC0000">*****************************************************************</font></p>
<p align="center"><font color="#990000">A Paid installation service is available 
  for this module, as well as any module in the contributions section of oscommerce.com. 
  Hyperactive Inc. Also does custom modifications and templates for OSC, OSC-MAX 
  and CRE Loaded 6, as well as specialize in os commerce hosting.. To find out 
  more or to schedule an installation please</font><font color="#FF0000"> <a href="http://www.hyperactivehosting.com/oscommerce-request.php">CLICK 
  HERE</a> </font></p>
<p align="center"><font color="#CC0000">****************************************************************</font></p>
<h2>&nbsp;</h2>
<h2>&nbsp;</h2>
<h2>Contents:</h2>
<ul>
  <li><a href="#features">Features</a></li>
  <li><a href="#changes">Changes from Previous Version</a> </li>
  <li><a href="#forward">Forward</a></li>
  <li><a href="#before">Before you begin</a> </li>
  <li><a href="#needs">What you will need</a></li>
  <li><a href="#security">Security Warnings</a></li>
  <li><a href="#installation">Installation</a>    <ul>
      <li><a href="#files">File Locations, sizes and installation paths</a> </li>
        <li><a href="#JS">Javascript</a></li>
        <li><a href="#defines">Define statements</a></li>
        <li><a href="#images">Images</a></li>
        <li><a href="#pem">Pem file</a></li>
        <li><a href="#cvvoption">linkpointms1_without_option.php</a></li>
        <li><a href="#store">Store Administration setup</a></li>
  </ul>
  </li>
  <li> <a href="#credits">Credits</a></li>
  <li><a href="#support">Support Contact Information</a></li>
  <li><a href="#paidinstall">Paid Installations</a> </li>
  <li><a href="#plans">Plans For Next Release</a> </li>
</ul>
<p>&nbsp;</p>
<p>&nbsp;</p>
<hr>
<p><br>
<span class="style4">FEATURES:</span><a name="features"></a></p>
<ul>
  <li>Admin configurable authorization type. immediate authorization versus post authorization</li>
  <li>Test mode and live mode</li>
  <li>Easy installation</li>
  <li>Choice to display CVS CVV input areas.</li>
  <li>    Pop-up explanation windows for your customers about CVV/CVS codes.</li>
  <li>Free Tech Support via email at <a href="mailto:support@hyperactivehosting.com">support@hyperactivehosting.com</a></li>
  <li><font color="#FF0000">Paid installation service if you require. Details 
    </font><a href="http://www.hyperactivehosting.com/oscommerce-request.php" target="_blank">Here</a></li>
</ul>
<p>&nbsp;</p>
<hr>
<p class="style4">Changes from previous Version<a name="changes"></a> </p>
<p>1. Fixed a bug in checkout_process.php. If the customer was in the checkout 
  process on page checkout_payment.php and changed their billing address on this 
  page, the checkout process would submit the customers shipping address and not 
  the customers billing address in the data packet sent to linkpoint. This normally 
  would not be an issue, since most customers never do this. However in those 
  cases where it was done, it would cause a decline from linkpoint due to mis-matched 
  AVS addresses.</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p class="style4">&nbsp;</p>
<p><span class="style4">Forward</span><a name="forward"></a>: <br>
  by T. Nordstrom<br> 
  <br>
  A little bit about this contribution. It is basically a modification and slightly 
    improved version on Tim Wasson's &quot;LinkPoint CardService International Payment 
        Module&quot;. It has added feautures such as Credit Card Verification value 
        and most all parameters are now transferred to Linkpoint Central. There has 
        also been a change in that now the store owner has an option of choosing wheter 
        or not the sale should be charged right away or after the order has been shipped. See post-authorization vs. immediate authorization. Another thing that another 
ocCommerce member (sorti) added was the e-mail notification that tells the store 
owner which values of the post-authorzation matched with the card. This should 
help prevent fraudalent situations. Sorti was a good help in many parts of the 
    code. He also added the feauture to display both the month name and number in 
    the expiration select box. Chris Thomas (www.Profitability.Net) was kind to 
    remark that when using the Gift card/Credit voucher contribution the values 
    sent for sub-total and total don't match, therefore the linkpoint won't work 
    unless you add his little hack, which is included as: credit_voucher_gift_card_hack.txt. I myself don't want to take any credit at all for this module. My background 
  has nothing to do with programming and therefore a lot of it was just a error-and-trial 
  procedure. I haven't included any terms of use because I don't really know how 
  to write it, but basically this is FREE to use on your own risk. So far a lot 
  of people have asked me to send this module and it has successfully done its 
  job. Please e-mail me any updates or developments you think of. Thanks!</p>
<p>Thomas (t_nordstrom at yahoo.com)</p>
<h2><br>
</h2>
<hr>
<p class="style4">Before you begin:<a name="before"></a></p>
<ul>
  <li>Please upload phpconfig.php as described in <a href="#files">Section 1</a> to your server.</li>
  <li>Point your browser to http://www.yourdomain/catalog/phpconfig.php
    <ul>
      <li>Verifiy your PHP version is 4.0.2 or higher</li>
      <li>Locate the section titled CURL, if there isnt one <a href="#support">click here</a>  </li>
      <li>If there is a section titled CURL is must look similar to this 
        <TABLE cellPadding=3 width=600 border=1>
          <TBODY>
            <TR>
              <TD class=e>CURL support </TD>
              <TD class=v>enabled </TD>
            </TR>
            <TR>
              <TD class=e>CURL Information </TD>
              <TD class=v>libcurl/7.10.6 OpenSSL/0.9.7a ipv6 zlib/1.1.4 </TD>
            </TR>
          </TBODY>
        </TABLE> 
      </li>
      <li>If there is no reference to OpenSSL or ModSSL <a href="#support">click here</a> </li>
    </ul>
  </li>
</ul>
<hr>
<p><span class="style4">What you will need:</span><a name="needs"></a></p>
<ul>
  <li>    A server running PHP and CURL compiled with openSSL or modSSL.
</li>
  <li>Your welcome email from linkpoint cardservices containing your RSA private key and Certificate.</li>
  <li>Your store number, this is not your dba name but your store number from linkpoint.</li>
  <li>An FTP client, unless using Dreamweaver or Frontpage or similar. </li>
  <li>A text editor, unless using Dreamweaver or Frontpage or similar. </li>
</ul>
<h2>&nbsp;</h2>
<hr>
<h2>&nbsp;</h2>
<h2>Security Warnings:<a name="security"></a><br>
  <br>
  <span class="style7">despite what you may have been told. A Linkpoint PEM file DOES NOT secure your website. This may be verified from linkpoint itself at the following URL, <a href="http://www.linkpoint.com/support/sup_lpapi_faq.html#1" target="_blank">http://www.linkpoint.com/support/sup_lpapi_faq.html#12</a></span></h2>
<h2><span class="style7">The PEM file contains a RSA private key and certificate which only secures transmissions between your website and linkpoints gateway. It DOES NOT secure credit card information between your customers web browser and your store. You will need to purchase a SSL certificate for your store to secure it. Failure to do so will leave you liable for any and all credit card damages resulting from anyone getting those transmitted credit card numbers.<br>
    <br>
  If you need a reliable GEO TRUST single root SSL certificate from a company 
  who owns their own chained root, please visit <a href="http://www.hyperactivehosting.com">http://www.hyperactivehosting.com</a> 
  they are available for as low as $69.95 per year. Retail from GEOTRUST is $149.00 
  So you can take advantage of our reduced prices on those certificates<br>
  <br>
  There are cheaper SSL certificates, namely, Comodo certificates. We however do not recommend them as Comodo leases their root certificate from Geotrust. Geotrust and Comodo are direct competitors and Geotrust is already offering free upgrades from Comodo to their own certificates. You can see how using a  competitors root certificate is not a good idea as Geotrust could rescend Comodos right to use it and instantly make all Comodo Certificates invalid.<br>
  <br>
  We sell Certificates from Geotrust, who owns their own root certificate.</span></h2>
<h2 class="style8">&nbsp;  </h2>
<hr>
<h2 class="style8"><br>
  <span class="style8">INSTALLATION</span><a name="installation"></a></h2>
<p>&nbsp;</p>
<h2 class="style8">Section 1 - Files list, sizes and installation locations:<a name="files"></a></h2>
<h2 class="style8">Take care to copy all these files to their proper paths on your server. <br>
</h2>
<table width="100%"  border="1" cellspacing="0" cellpadding="1">
  <caption align="top">
  Filenames, sizes and locations
  </caption>
  <tr>
    <th scope="col">File Name </th>
    <th scope="col">File Size </th>
    <th scope="col">Proper Installation Path </th>
  </tr>
  <tr>
    <td>popup_cvs_help.php</td>
    <td>717 bytes </td>
    <td>/catalog/</td>
  </tr>
  <tr>
    <td>credit_cards.gif</td>
    <td>2,106 bytes </td>
    <td>/catalog/images/</td>
  </tr>
  <tr>
    <td>cvm_help1.jpg</td>
    <td>9,641 bytes </td>
    <td>/catalog/images/</td>
  </tr>
  <tr>
    <td>cvm_help2.jpg</td>
    <td>9,521 bytes </td>
    <td>/catalog/images/</td>
  </tr>
  <tr>
    <td>cvs_help.php</td>
    <td>2,894 bytes</td>
    <td>/catalog/includes/languages/english/</td>
  </tr>
  <tr>
    <td>linkpointms1.php</td>
    <td>1,686 bytes </td>
    <td>/catalog/includes/languages/english/modules/payment/</td>
  </tr>
  <tr>
    <td>lpphp.php</td>
    <td>26,380 bytes </td>
    <td>/catalog/includes/linkpoint/</td>
  </tr>
  <tr>
    <td>.HTACCESS</td>
    <td>194 bytes </td>
    <td>/catalog/includes/linkpoint/</td>
  </tr>
  <tr>
    <td><a href="#pem" class="style1">000000.pem</a></td>
    <td>82 bytes </td>
    <td>/catalog/includes/linkpoint/</td>
  </tr>
  <tr>
    <td>linkpointms1.php</td>
    <td>21,930 bytes </td>
    <td>/catalog/includes/modules/payment/</td>
  </tr>
  <tr>
    <td><a href="#cvvoption" class="style1">linkpoint_without_option.php</a></td>
    <td>21,820 bytes </td>
    <td>/catalog/includes/modules/payment/</td>
  </tr>
  <tr>
    <td class="style1"><a href="#before" class="style7">phpconfig.php</a><br>
    </td>
    <td>446 bytes </td>
    <td>/catalog/</td>
  </tr>
  <tr>
    <td colspan="3"><span class="style1">Please note files in red have special instructions and if you do not follow them this contribution will not work. Simply click the file name to view it's instructions or notes. </span></td>
  </tr>
</table>
<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>
<p><span class="style4">Section 2 - Javascript</span><a name="JS"></a> </p>
<p class="style8"><a href="#jsoscmax">*If you are using OSC-MAX Click Here</a><br>
  *If you are using OS Commerce MS1 or MS2 do this!<br> 
</p>
<p class="style9">open file /catalog/checkout_payment.php  <br>
locate at roughly line 120 the following code:</p>
<p><strong>//--&gt;&lt;/script&gt;<br>
&lt;?php echo $payment_modules-&gt;javascript_validation(); ?&gt; </strong></p>
<p class="style9">Just before the //--&gt;&lt;/script&gt; portion, add this code:</p>
<p><strong>function popupWindow(url) {<br>
window.open(url,'popupWindow','toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=450,height=500,screenX=150,screenY=30,top=30,left=150')
}</strong></p>
<p class="style9">So that it now looks like this</p>
<p><strong>function popupWindow(url) {<br>
window.open(url,'popupWindow','toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=450,height=500,screenX=150,screenY=30,top=30,left=150')
} </strong><br>
<strong>//--&gt;&lt;/script&gt;<br>
&lt;?php echo $payment_modules-&gt;javascript_validation(); ?&gt; </strong></p>
<hr>
<p><span class="style8">*If you are using OSC-MAX do this</span> <a name="jsoscmax"></a></p>
<p><span class="style9">open file /catalog/includes/javascript/checkout_payment.js.php<br>
  at roughly line 40 you will see the following code.<br></span>
  <br>
  <strong>//--&gt;&lt;/script&gt;<br>
&lt;?php echo $payment_modules-&gt;javascript_validation(); ?&gt; </strong></p>
<p class="style9">Just before the //--&gt;&lt;/script&gt; portion, add this code:</p>
<p><strong>function popupWindow(url) {<br>
  window.open(url,'popupWindow','toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=450,height=500,screenX=150,screenY=30,top=30,left=150') }</strong></p>
<p class="style9">So that it now looks like this</p>
<p><strong>function popupWindow(url) {<br>
  window.open(url,'popupWindow','toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no,width=450,height=500,screenX=150,screenY=30,top=30,left=150') } </strong><br>
  <strong>//--&gt;&lt;/script&gt;<br>
&lt;?php echo $payment_modules-&gt;javascript_validation(); ?&gt;</strong></p>
<hr>
<p class="style4">Section 3 - Defines<a name="defines"></a> </p>
<p><span class="style9">open file /catalog/includes/application_top.php<br> 
locate the last line and look for this code: </span></p>
<p><strong>?&gt;</strong></p>
<p><span class="style9">Add this code just before the ?&gt;</span> <br>
  <br>
  define('FILENAME_POPUP_CVS_HELP', 'popup_cvs_help.php');<br>
  define('FILENAME_CVS_HELP', 'cvs_help.php');</p>
<p><span class="style9">So that it now looks like this:<br>
  <br>
  </span>define('FILENAME_POPUP_CVS_HELP', 'popup_cvs_help.php');<br>
define('FILENAME_CVS_HELP', 'cvs_help.php');<br>
?&gt;</p>
<p>&nbsp;</p>
<hr>
<p><span class="style4">Section 4 - Images</span><a name="images"></a> </p>
<p class="style4">&nbsp;</p>
<p>Three images are included in this contribution and are designed to be used as popup help for your customers. They show in detail the location of the CVS/CVV code on each of the credit cards (visa/mastercard/american express).</p>
<p>Copy the images to your server to the proper path as described in <a href="#files">Section 1</a> </p>
<hr>
<p class="style4">Section 5 - PEM FILE<a name="pem"></a> </p>
<p>Included with this contribution is a blank PEM file titled 000000.pem. The pem file will contain  your RSA private key and certificate from linkpoint and would have been given to you in your welcome email when you signed up for their service. You will need both your store number, and your welcome email to complete this step. Have them ready! </p>
<ul>
  <li>Rename the pem file in this contribution to your store number.
    <ul>
      <li>for example if you store number is 109485, rename this file from 000000.pem to 109485.pem</li>
    </ul>
  </li>
  <li>Copy and paste your RSA private key and your Certificate into this pem file using a text editor.
    <ul>
      <li>The contents of your pem file should now look similar to this<span class="style4">, </span>Make sure all lines beggining or ending in &quot;-----&quot; have nothing on them except for the &quot;-----begin rsa private key----&quot; like below. <span class="style4"><br> 
        </span><span class="style1">-----BEGIN RSA PRIVATE KEY----- <br>
        MIICXQIBAAKBgQDZoZkdvUEyOCEy/Irb4jMlYfAvlTzMRqTIjPIK0KS5rlfApWvT <br>
        r8NON11oN00NP/EAYdu1J5XXz7n3ho45ZtK/KHa/eUQAFTMNJQmNsUN3JUP8y/5r <br>
        xET/ygjPX3FEtCqkd/4a5TEXHLkgtCoet956vU0j1AigwOAI5n09MwbVOQIDAQAB <br>
        J7YuonclgyMf1v1xjw796ZXhFxG1JQCoLB1R9XtBIjxO <br>
        -----END RSA PRIVATE KEY----- <br>
        -----BEGIN CERTIFICATE----- <br>
        MIICijCCAfOgAwIBAgIBADANBgkqhkiG9w0BAQQFADCBijELMAkGA1UEBhMCVVMx <br>
        CzAJBgNVBAgTAkFSMRIwEAYDVQQHEwlURVhBUktBTkExHTAbBgNVBAoTFEJBQ0sg <br>
        SUkgQkFDSyBBUFBBUkVMMRcwFQYDVQQDEw5DSEFORFJJQSBGQUdBTjEiMCAGCSqG <br>
        1SnlZYl2f77uGaw7tmZUnomDfmjRTRdyb0DlDGej <br>
      -----END CERTIFICATE-----</span></li>
    </ul>
  </li>
  <li>Special care must be taken to not have any white space (spaces) or blank lines in your pem file. </li>
  <li>Save your PEM file and upload it as described in <a href="#files">Section 1</a> <br>
    <br>
    <hr>
  </li>
</ul>
<p class="style4">Section 6 - Linkpointms1_without_option.php<a name="cvvoption"></a> </p>
<p>This file is optional, and is designed to completely REPLACE the linkpointms1.php located in /catalog/includes/modules/payment/</p>
<p><strong>What this file does:<br>
  </strong>This file removes the checkbox titled &quot;My cvv code is missing or unreadable&quot; from checkout_payment.php.</p>
<p><strong>Why you would want to do this:<br>
</strong>Credit card thieves will frequently not have the CVV/CVS code. If you do not want your customers to have the option of saying they can't read or dont have a CVV/CVS code, you would use this file. It theoretically would lower the chances of a thief buying from your store.<br>
<strong><br>
How do i use it:<br>
</strong>Rename this file to linkpointms1.php and upload it as described in <a href="#files">section 1</a> being sure to overwrite the linkpointms1.php already in /catalog/includes/modules/payment/ if you have already uploaded it. </p>
<hr>
<p class="style4">Section 7 - Store Administration Setup<a name="store" id="store"></a> </p>
<p class="style4">&nbsp;</p>
<p>Login to your stores administration panel.<br>
Click &quot;Modules&quot;<br>
Click &quot;Payment&quot;<br>
Turn off all payment methods you will not be using.<br>
Click &quot;linkpoint&quot;<br>
Click &quot;Edit&quot;</p>
<p>Enter your store number (number assigned by linkpoint)<br>
  Leave the linkpoint server address as is.<br>
  Enter the email address to send processing verification emails to (your address to get receipts)<br>
  Set store to LIVE mode, even for testing. Make sure linkpoint is in live mode 
  on their end too. Use credit card number 4111111111111111 , Use CVV Code 599 
  and any expiration date after today when you do your test. If all was successfull, 
  you will get a &quot;There has been an error processing your card XxDeclinedxX&quot; 
  in your store. This is what you should get and congratulations on a good install!<br>
  <br>
  *Developers<br>
  You may want to permanently write these values into the catalog/includes/modules/payment/linkpointms1.php file. The reason being: If and when the store owner ever unactivates the module the store number will be re-set to 000000 and he won't understand why the payment is not working. That's what I did. You can change the e-mail address to your store owner's default too... The way you would do it is by performing a find and replace on 000000. You will find the configuration values at the bottom. Change this number to your store number and the value will always be there no matter if the module has been de-activated or not. You can find the e-mail field by searching for: someone@yourdomain.com<br>
  <br>
**Please note: the default of this module is set to: Pre-authorization which basically means that you will have to post-authorize the payment after it's been shipped out. You will do this in Linkpoint Central. If you are only selling downloadable products or want the card charged instantly you can change this option into &quot;Immediate authorization&quot;.</p>
<hr>
<p class="style4">&nbsp;</p>
<p class="style4">Credits:<a name="credits"></a></p>
<p>&nbsp;</p>
<p>Original Author: Tim Wasson (core code) <br> 
Revisions to original code: T. Nordstrom (core code)<br>
  Current Version: <a href="mailto:appdev@hyperactivehosting.com">Clifton Murphy</a> 
  (popups, documentation, cvv/cvs updates, Support, Bug Fixes)<br>
Gift Voucher Hack: Chris Thomas<br> 
Expiration  box, code help: Sorti
<br>
</p>
<hr>
<p class="style4">Support Contact Information<a name="support"></a> <a name="paidinstall"></a></p>
<p class="style4">&nbsp;</p>
<p>Clifton Murphy <a href="mailto:support@hyperactivehosting.com">support@hyperactivehosting.com</a> 
  Is currently providing free email and phone support for this contribution. If 
  you require telephone support please call 1-(910)298-6381.<br>
  <br>
  A simple installation service is available, with two prices depending on whether 
  you host with us or not. If you are a hosting customer we install any module 
  including this one for $29.95. If you are not a hosting customer we charge $49.95 
  to install any and all mods including this one. <br>
<br>
  If you wish us to install this module we can do a preinstallation test to make 
  sure your host is compatible with this module. The cost for this service is 
  $9.95 and is designed to save you the installation charge if your host does 
  not support the requirements for this contribution. If your host is found to 
  be compatible, the $9.95 will be deducted from the installation charge. To get 
  us to install this, or any other module for you, simply Visit our online order 
  processing wizard here <a href="https://www.hyperactivehosting.com/oscommerce-request.php">Module 
  installations</a><br> 
<br>
<br>
**All module contributions that <a href="http://www.Hyperactivehosting.com">www.Hyperactivehosting.com</a> installs, are charged an installation fee with 20% of that fee going to the original module author! We do not charge for modules themselves, they are free and should remain as such. We only charge for the actual installation.</p>
<hr>
<p>&nbsp;</p>
</body>
</html>
